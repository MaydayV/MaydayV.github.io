{"posts":[{"title":"MacOS 安装 Homebrew 错误处理 Connection refused","content":"使用国内源安装 #正常安装： Homebrew 官方网站：https://brew.sh/ 按照官方的操作，输入以下命令 /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot; ##报错信息如下 curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused #解决方案： 原因是目前 GitHub 的 gist 访问不了，所以获取不到安装的脚本文件。 运行下面自动脚本（已经全部替换为国内地址）： /bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot; 建议选择清华源安装，比较稳定。😑 ","link":"https://blog.caodan.io/maQoDORpm/"},{"title":"Aria2 一键安装管理脚本","content":"Centos7下安装Aria2教程 系统要求 CentOS 7+ / Debian 6+ / Ubuntu 14.04 + 推荐 Debian 7 x64，脚本在这个系统上面出错率最低。 安装步骤 执行下面的代码下载并运行脚本。 wget -N --no-check-certificate https://softs.fun/Bash/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh 如果上面这个脚本无法下载，尝试使用备用下载： wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh 运行脚本后会出现脚本操作菜单，选择并输入 1 就会开始安装。 使用说明 进入下载脚本的目录并运行脚本： ./aria2.sh 然后选择你要执行的选项即可。 Aria2 一键安装管理脚本 [vx.x.x] -- Toyo | doub.bid/shell-jc4 -- 升级脚本 ———————————— 安装 Aria2 卸载 Aria2 ———————————— 启动 Aria2 停止 Aria2 重启 Aria2 ———————————— 修改 配置文件 查看 日志信息 ———————————— 当前状态: 已安装 并 已启动 请输入数字 [0-7]: 其他操作 启动：service aria2 start 停止：service aria2 stop 重启：service aria2 restart 查看状态：service aria2 status 配置文件：/root/.aria2/aria2.conf （配置文件包含中文注释，但是一些系统可能不支持显示中文） 默认密匙：doub.bid 下载目录：/usr/local/caddy/www/aria2/Download 提示 wget: command not found 的错误 这是系统精简的太干净了，wget都没有安装，所以需要安装wget。 CentOS系统: yum install -y wget Debian/Ubuntu系统: apt-get install -y wget 升级脚本 升级脚本只需要运行脚本，然后选择并输入 0 回车即可，会自动检测最新版本并下载，当然重新下载脚本文件也可以，会自动覆盖原文件。 ","link":"https://blog.caodan.io/aria2/"},{"title":"Oracle甲骨文服务器登陆","content":"记录一些常用命令 查看本机公钥和私钥 1、进入 .ssh 目录：cd ~/.ssh 2、找到 xxxx.pub 文件：ls 3、查看公钥内容：cat xxxx.pub 或者 vim xxxx.pub 4、同名无后缀的是私钥 SSH登录命令 ssh -i ~/.ssh/私钥文件名 opc@甲骨文ip 登录后切换root用户 sudo -i ","link":"https://blog.caodan.io/sshlogin/"},{"title":"ssh-keygen 公钥格式","content":"公钥：公钥有2种格式，标准格式和one-line格式 标准格式：一些ssh服务器需要这种格式。 直接点击保存公钥，保存下来的格式就是标准格式。 —- BEGIN SSH2 PUBLIC KEY —- Comment: “rsa-key-20101208″ AAAAB3NzaC1yc2EAAAABJQAAAIB4LzyTTbPr3tY9ecJTzAyQlecO8qktGBKqy5m9 lt4Af5ZQ+zxWOVIG0q2KBRtrL0KXPtge9QDPl7/ZtUdQTt0TKKg8fpoEzW8Jc6vq SBsfCvDPxv+0vEsrLCJP58IxEh66gTpnJOjoCa+NfZJte/drsE4EwcvOmNeBrbhY L7Z3UQ== —- END SSH2 PUBLIC KEY —- one-line格式 Openssh服务器需要这种格式。将公钥复制到authorized_keys文件里，这种把PuTTYgen生成的公钥复制下，并粘贴到SSH服务器里的格式就是one-line格式。 如ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAIEAwtUKdm+wzgBIJPazvE3v2DXrFSMiOxv/ch+hR7aqq2pw7Hk6+r7Mpsic4+22ZNC91HjqlBEfsoQ+/rz +e8qcJM17s8SNeumysWO+xFY913SXG5gDpyWMwQhISCPflcudPjImz5ytRYQZ+YtW4QHz54h5Clw18x9qidOQfPESuFc= rsa-key-20101208 ","link":"https://blog.caodan.io/sshgeshi/"},{"title":"Snapic Plus主题收获记录","content":"终于寻找到一个符合自己审美的照片主题，感谢Lopwon。 主题名称：Snapic Plus 主题作者：Lopwon 作者博客：Lopwon.com 主题介绍：http://www.lopwon.com/snapic.html 这是一款优秀的Typecho主题。 关于这个获得和使用主题的经过，很有趣。 有一天我在网上找相册类型的主题的时候，看到了这个主题，瞬间吸引了我。 但是那个时候，新版本还没上线，网络上能够下载到的是Lopwon之前分享的旧版本的主题。 我看到有个赞赏的二维码，于是就扫码赞赏了xx元。 算是自己对Lopwon免费分享之前主题的感谢，更是对遇到一个让自己喜欢的主题的欣赏。 我看了很久新版本主题的演示，有很多修改的想法建议，于是给Lopwon的邮箱发了一封邮件，提出了我的一些建议，还挺长的一大段，同时咨询一下啥时候发布，多少钱之类的，哈哈哈。 后来收到Lopwon的邮件回复，他说因为我的赞赏，可以在主题发布以后免费送我一份主题。 啊，能够得到这样的回复，很开心，主题更是意外收获，当时很惊喜。 然后他也认真的回应了我的建议，以及原因。 后来他发给了一个还没正式发布的测试版，我安装后发现，照片图片只能使用本地的图片。 配置远程图片插件，比如又拍云或者七牛云以后，图片不显示。 我又去给Lopwon发邮件，询问这个问题，他说他改版升级的初衷，就是做一个不依赖任何插件的主题，所有的效果都基于主题本身实现。 嗯，Lopwon这个想法没问题，减少了很多无用的操作，但是，这就不太符合我的需求了。 因为我的服务器上放了很多网站，带宽又小，如果相册图片全部都在本地，而图片尺寸太大，图片加载的时候就会很折磨人。 所以，就只能改版，修改主题文件，把图片调用从本地改成远程调用。 我经常用的远程存储有又拍云、七牛云、阿里云OSS。 又拍云加入又拍云联盟以后基本上每个月都可以免费使用，实名好评安利。 七牛云存储已经超了10G了，阿里云OSS虽然好用，但是自己太多网站用阿里云OSS了，创建了那么多存储bucket，管理的很烦，所以，我要用又拍云单独来放自己的博客图片外链和相册照片。 把又拍云配置好以后，修改了主题文件，显示正常。 同时，设置了又拍云的图片处理功能，在访问照片站的时候，图片都是以webp格式加载的，大大提高了访问速度。 把修改的文件打包发了一份给Lopwon，表示感谢。 Lopwon继续回复，主题初衷是不需要搭配任何插件的，哈哈哈哈。 然后，突然发现，添加了顶部封面大图，手机端和电脑端不能自动切换。 算了，不开启顶部封面大图了，凑合用，等发布正式版还要修改。 终于等啊等，正式版发布了，Lopwon很快发给我新版的主题。 然后，继续修改成远程附件的版本。 修改后，支持又拍云和七牛云的远程图片插件。 晒一下自己的摄影站，https://photo.caodan.io 完美，感谢Lopwon！ ","link":"https://blog.caodan.io/SnapicPlus/"},{"title":"OneDrive指定账户扩容命令","content":"OneDrive扩容步骤以及命令，适用于获得扩容权限的账户。 1、电脑打开Windows PowerShell 2、先运行代码，检验Windows PowerShell是否安装成功： Get-Module -Name Microsoft.Online.SharePoint.PowerShell -ListAvailable | Select Name,Version 如果返回软件名和版本号，即安装成功，继续下一步。 如果没返回任何内容，则去官网下载最新版本安装。 3、使用管理员用户名和密码连接，运行如下代码： $adminUPN=&quot;admin@wwxx.onmicrosoft.com&quot; $orgName=&quot;wwxx&quot; $userCredential = Get-Credential -UserName $adminUPN -Message &quot;Type the password.&quot; Connect-SPOService -Url https://$orgName-admin.sharepoint.com -Credential $userCredential adminUPN 是管理员邮箱，orgName 是组织名，将其替换即可，如果默认邮箱不是微软邮箱，是自己绑定的独立域名，则对应修改邮箱为当前邮箱。 4、在弹出的窗口输入账号密码。 5、运行命令，进行扩容。 Set-SPOSite -Identity &lt;user's OneDrive URL&gt; -StorageQuota &lt;quota&gt; &lt;user's OneDrive URL&gt; 更改为你要扩容的用户URL &lt;quota&gt; 是储存空间值，以MB为单位（26214400MB=25TB） 例如： Set-SPOSite -Identity https://ww0-my.sharepoint.com/personal/admin_ww0_onmicrosoft_com -StorageQuota 26214400 ","link":"https://blog.caodan.io/onedrivepowershell/"},{"title":"Dnspod的SRV记录解析填写","content":"在使用微软服务的时候，需要验证域，其中有项是srv记录 搜索教程后配置成功，记录一下。 A.主机记录处格式为：服务的名字.协议的类型 例如：_sip._tcp B.记录类型为SRV C.线路类型（默认为必填项，否则会导致部分用户无法解析） D.记录值格式为：优先级 权重 端口 主机名 例如：100 1 443 sipserver.example.com. 以空格隔开，记录生成后会自动在域名后面补一个“.” E.MX优先级不需要填写，默认就行 F.TTL不需要填写，添加时系统会自动生成，默认为600秒 （TTL为缓存时间，数值越小，修改记录各地生效时间越快） ","link":"https://blog.caodan.io/dnspod-srv/"},{"title":"webhook实时拉取Github仓库","content":"博客域名没有备案，而自己有香港的服务器，可以用来同步Github仓库的静态文件。 这样就可以让Gridea的博客内容，同步到Github后，再被宝塔面板的webhook拉取到本地目录。 域名国外解析到Github，国内解析到自己的服务器，实现网站的访问加速。 首先服务器上需要已经安装了宝塔面板，我习惯用这个面板，其他方式安装webhook也没问题。 宝塔面板安装webhook插件后，创建一个hook，添加下面的脚本，只需要修改git地址，其他的不用改。 #!/bin/bash echo &quot;&quot; #输出当前时间 date --date='0 days ago' &quot;+%Y-%m-%d %H:%M:%S&quot; echo &quot;Start&quot; #判断宝塔WebHook参数是否存在 if [ ! -n &quot;$1&quot; ]; then echo &quot;param参数错误&quot; echo &quot;End&quot; exit fi #git项目路径 gitPath=&quot;/www/wwwroot/$1&quot; #git 网址 gitHttp=&quot;https://github.com/xxxxx.git&quot; #只需要修改成仓库的git地址，其他地方默认不修改 echo &quot;Web站点路径：$gitPath&quot; #判断项目路径是否存在 if [ -d &quot;$gitPath&quot; ]; then cd $gitPath #判断是否存在git目录 if [ ! -d &quot;.git&quot; ]; then echo &quot;在该目录下克隆 git&quot; sudo git clone $gitHttp gittemp sudo mv gittemp/.git . sudo rm -rf gittemp fi echo &quot;拉取最新的项目文件&quot; sudo git reset --hard origin/master sudo git pull echo &quot;设置目录权限&quot; sudo chown -R www:www $gitPath echo &quot;End&quot; exit else echo &quot;该项目路径不存在&quot; echo &quot;新建项目目录&quot; mkdir $gitPath cd $gitPath #判断是否存在git目录 if [ ! -d &quot;.git&quot; ]; then echo &quot;在该目录下克隆 git&quot; sudo git clone $gitHttp gittemp sudo mv gittemp/.git . sudo rm -rf gittemp fi echo &quot;拉取最新的项目文件&quot; sudo git reset --hard origin/master sudo git pull echo &quot;设置目录权限&quot; sudo chown -R www:www $gitPath echo &quot;End&quot; exit fi 保存后，点击查看密钥，如下： 宝塔WebHook使用方法: GET/POST: http://服务器ip:端口/hook?access_key=HOOK密钥&amp;param=aaa @param access_key string HOOK密钥 @param param string 自定义参数（在hook脚本中使用$1接收） 注意粘贴前把网址最后的aaa换成你的宝塔对应静态博客的网站的目录名 例如我的网站路径 wwwroot/blog，就把aaa替换成blog 如果不替换的话，会在你的服务器根目录创建一个aaa目录，你把站点目录修改为aaa目录，也可以。 复制上面自动生成的链接，粘贴到Github的webhook设置 内容类型选择json，secret就是webhook的一串密钥，复制过去粘贴，其他默认，保存提交。 然后去Gridea提交更新博客，再看Webhook的日志，再检查目录下有没有文件就能看到是否同步成功了。 当Github的版本库代码更新时，通过 git 的 webhook（git web 钩子）触发 push 事件。用户提交代码（git push）服务器的宝塔 webhook 插件拉取当前 git 最新代码（git pull） ==注意：==阿里云国内服务器使用webhook拉取github仓库经常失败。 ","link":"https://blog.caodan.io/webhook-github/"},{"title":"关于生活里的误会","content":"每个人都喜欢用自己的方式去判断别人，去猜测一些没有发生的事情，这很操蛋。 在不同的情绪下，每个人会出现错误的判断。 可能是言语或者行为，让对方感觉到被误解。 所以啊，言多必失，管好自己的行为。 不以恶意猜测别人，不做容易让他人误会的事情。 ","link":"https://blog.caodan.io/wuhui/"},{"title":"清除Linux连接ssh密钥方法","content":"在Mac的终端使用 ssh root@ip 登录远程Linux服务器 输入密码就可以连接到远程的SSH服务器 如果以前登录过，重装服务器后会提示如下错误： KENFORFORLIN:~ root$ sudo ssh root@ip Password: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY! Someone could be eavesdropping on you right now (man-in-the-middle attack)! It is also possible that the RSA host key has just been changed. The fingerprint for the RSA key sent by the remote host is ea:24:31:8d:03:07:36:db:2f:74:15:5d:58:67:a3:5b. Please contact your system administrator. Add correct host key in /var/root/.ssh/known_hosts to get rid of this message. Offending key in /var/root/.ssh/known_hosts:1 RSA host key for 192.168.1.203 has changed and you have requested strict checking. Host key verification failed. 只要清除旧的的公钥信息就可以了。 2.解决方法 ssh-keygen -R ip (远程服务器的IP) ","link":"https://blog.caodan.io/ssh-keygen/"},{"title":"Hello Gridea","content":"✍️ Gridea 一个静态博客写作客户端。用它来记录生活、心情、知识、笔记、创意... 特性👇 📝 可以使用最酷的 Markdown 语法，进行快速创作 🌉 可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 可以对文章进行标签分组 📋 可以自定义菜单，甚至可以创建外部链接菜单 💻 可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 向世界展示，无需维护主机 💬 可以进行简单的配置，接入评论系统 🇬🇧 可以使用中文简体或英语 🌁 可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 😘 Enjoy~ ","link":"https://blog.caodan.io/hello-gridea/"}]}